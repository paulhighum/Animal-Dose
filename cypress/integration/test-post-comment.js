describe("Random Animal Fact", function(){
  it("Tests CRUD functionality.", function(){
    cy.visit("https://daily-animal-fact.firebaseapp.com/")
    cy
      .get("#AnimalCard")
      .find("img")
      .should("have.attr", "src")
    cy.get("#ButtonContainer").find("button").eq(0).click()
    cy.get("#name").type("Amber")
    cy.get("#new-comment").type("Helps Paul all the time")
    cy.get("#submit").click()
    cy.wait(1000)
    cy.get("#CommentContainer").find("li").last().should("have.text", "Amber: Helps Paul all the time")
    cy.get("#update-comment").click()
    cy.get("#UpdateComment").find("li").last().find("input").click({force: true})
    cy.get("#update-checked").click()
    cy.get("#new-comment").type(" and she loves this animal app.")
    cy.get("#submit-update").click()
    cy.wait(1000)
    cy.get("#delete-comment").click()
    cy.get("#DeleteComment").find("li").last().find("p").should("have.text", "Helps Paul all the time and she loves this animal app.")
    cy.get("#DeleteComment").find("li").last().find("input").click({force: true})
    cy.get("#delete-checked").click()
  })
})
